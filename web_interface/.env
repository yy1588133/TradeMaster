# TradeMaster Web Interface Docker Compose 环境配置
# 此文件针对 docker-compose.yml 优化，适用于开发和测试环境
# 使用方法: 复制此文件为 .env 即可直接使用 docker-compose up

# ==================== 基础配置 ====================
PROJECT_NAME=TradeMaster Web Interface
VERSION=1.0.0
BUILD_ENV=development
BUILD_TARGET=development

# ==================== 服务端口配置 ====================
# 数据库服务端口
POSTGRES_PORT=5432
REDIS_PORT=6379

# Web应用端口
BACKEND_PORT=8002
FRONTEND_PORT=3000
NGINX_PORT=8080

# 开发调试端口
BACKEND_DEBUG_PORT=5678

# 管理工具端口
PGADMIN_PORT=5050
REDIS_COMMANDER_PORT=8081

# ==================== 数据库配置 ====================
# PostgreSQL数据库配置
POSTGRES_DB=trademaster_web
POSTGRES_USER=trademaster
POSTGRES_PASSWORD=TradeMaster2024!

# Redis配置
REDIS_PASSWORD=TradeMaster2024!

# ==================== 安全配置 ====================
# JWT安全配置（开发环境，生产环境请使用复杂密钥）
SECRET_KEY=dev-secret-key-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=60

# ==================== 前端API配置 ====================
# 前端访问后端的API地址
VITE_API_BASE_URL=http://localhost:8002/api/v1
VITE_WS_URL=ws://localhost:8002/ws
VITE_API_TIMEOUT=30000

# CORS跨域配置（JSON数组格式）
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:3001","http://localhost:8080","http://127.0.0.1:3000"]

# ==================== TradeMaster集成配置 ====================
# TradeMaster核心服务地址
TRADEMASTER_API_URL=http://host.docker.internal:8080

# ==================== 开发配置 ====================
# 运行环境配置
DEBUG=true
LOG_LEVEL=DEBUG
NODE_ENV=development

# 开发特性开关
AUTO_RELOAD=true
SHOW_ERROR_DETAILS=true
ENABLE_DOCS=true

# 前端开发配置
VITE_DEBUG=true
VITE_DEBUG_API=true

# Docker文件监听优化（解决Windows/WSL文件监听问题）
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true

# ==================== 管理工具配置 ====================
# pgAdmin数据库管理工具
PGADMIN_EMAIL=admin@trademaster.local
PGADMIN_PASSWORD=admin123

# Redis Commander缓存管理工具
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin123

# ==================== 构建优化配置 ====================
# Python包索引（国内用户可使用清华源加速）
PIP_INDEX_URL=https://pypi.org/simple/
# PIP_INDEX_URL=https://pypi.tuna.tsinghua.edu.cn/simple/

# ==================== 时区配置 ====================
TZ=Asia/Shanghai