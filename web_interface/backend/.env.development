# ==================== TradeMaster Web Backend 开发环境配置 ====================
# 开发环境专用配置，优化为非Docker部署

# ==================== 基础应用配置 ====================
APP_NAME=TradeMaster Web Backend (Dev)
APP_VERSION=1.0.0-dev
APP_DESCRIPTION=TradeMaster Web Interface Backend API Development
DEBUG=true
LOG_LEVEL=DEBUG

# 环境配置
ENVIRONMENT=development
PYTHON_ENV=development

# ==================== 服务器配置 ====================
# FastAPI服务器配置
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
SERVER_RELOAD=true
SERVER_WORKERS=1

# API配置
API_V1_STR=/api/v1
API_TITLE=TradeMaster Web API (Dev)
API_DESCRIPTION=TradeMaster Web Interface Backend API Documentation

# ==================== 数据库配置 ====================
# PostgreSQL数据库连接 (本地安装)
DATABASE_URL=postgresql://trademaster:dev_password_123@localhost:5432/trademaster_web
DB_HOST=localhost
DB_PORT=5432
DB_USER=trademaster
DB_PASSWORD=dev_password_123
DB_NAME=trademaster_web

# 数据库连接池配置
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true

# 数据库引擎配置
DB_ECHO=false
DB_ECHO_POOL=false
DB_POOL_RESET_ON_RETURN=commit

# ==================== Redis缓存配置 ====================
# Redis连接配置 (本地安装)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false

# Redis连接池配置
REDIS_MAX_CONNECTIONS=10
REDIS_CONNECTION_TIMEOUT=10
REDIS_SOCKET_TIMEOUT=10

# 缓存策略配置
CACHE_DEFAULT_EXPIRE=3600
CACHE_PREFIX=trademaster:backend:dev:
CACHE_ENABLED=true

# ==================== JWT安全配置 ====================
# JWT令牌配置 (开发环境用简单密钥)
SECRET_KEY=dev-secret-key-change-in-production-this-is-only-for-development-use
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# JWT令牌前缀
TOKEN_TYPE=Bearer
TOKEN_URL=token

# ==================== 密码安全配置 ====================
# 密码哈希配置 (开发环境降低复杂度)
BCRYPT_ROUNDS=8
PBKDF2_ITERATIONS=50000
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_SPECIAL=false
PASSWORD_REQUIRE_UPPER=false
PASSWORD_REQUIRE_LOWER=false
PASSWORD_REQUIRE_DIGIT=false

# ==================== CORS配置 ====================
# 跨域资源共享配置 (开发环境宽松设置)
BACKEND_CORS_ORIGINS=["http://localhost:3100","http://localhost:3000","http://127.0.0.1:3100"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE","OPTIONS","PATCH"]
CORS_ALLOW_HEADERS=["*"]
CORS_EXPOSE_HEADERS=["*"]
CORS_MAX_AGE=86400

# ==================== API安全配置 ====================
# API限流配置 (开发环境宽松)
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST=200
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/1

# API安全头配置 (开发环境关闭)
SECURITY_HEADERS_ENABLED=false
HSTS_MAX_AGE=31536000
CONTENT_TYPE_NOSNIFF=false
FRAME_OPTIONS=SAMEORIGIN
XSS_PROTECTION=false

# ==================== 文件上传配置 ====================
# 文件上传限制
MAX_UPLOAD_SIZE=104857600
UPLOAD_DIRECTORY=uploads
ALLOWED_EXTENSIONS=[".csv",".json",".xlsx",".xls",".parquet",".py",".ipynb"]
UPLOAD_TEMP_DIRECTORY=temp

# 文件存储配置
STATIC_FILES_DIRECTORY=static
MEDIA_FILES_DIRECTORY=media
DATA_FILES_DIRECTORY=data

# ==================== 日志配置 ====================
# 应用日志配置
LOG_FORMAT=text
LOG_DATE_FORMAT=%Y-%m-%d %H:%M:%S
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/app.log
LOG_FILE_MAX_SIZE=52428800
LOG_FILE_BACKUP_COUNT=5
LOG_FILE_ENCODING=utf-8

# 日志级别配置
LOG_LEVEL_ROOT=DEBUG
LOG_LEVEL_UVICORN=DEBUG
LOG_LEVEL_DATABASE=INFO
LOG_LEVEL_CACHE=INFO

# ==================== 外部服务配置 ====================
# TradeMaster核心API配置 (如果有的话)
TRADEMASTER_API_URL=http://localhost:8080
TRADEMASTER_API_TIMEOUT=600
TRADEMASTER_API_RETRY_ATTEMPTS=3
TRADEMASTER_API_RETRY_DELAY=10
TRADEMASTER_API_KEY=dev-api-key

# TradeMaster数据路径配置
TRADEMASTER_DATA_PATH=./trademaster_data
TRADEMASTER_CONFIG_PATH=./trademaster_configs
TRADEMASTER_MODEL_PATH=./trademaster_models

# ==================== 邮件服务配置 ====================
# SMTP邮件配置 (开发环境可选)
SMTP_ENABLED=false
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=dev@trademaster.local
SMTP_PASSWORD=dev_password
SMTP_TLS=false
SMTP_SSL=false
SMTP_START_TLS=false

# 邮件模板配置
EMAIL_FROM_NAME=TradeMaster Team (Dev)
EMAIL_FROM_ADDRESS=dev@trademaster.local
EMAIL_TEMPLATES_DIR=templates/email
EMAIL_RESET_TOKEN_EXPIRE_HOURS=48

# ==================== 错误监控配置 ====================
# Sentry错误追踪 (开发环境关闭)
SENTRY_DSN=
SENTRY_ENABLED=false
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0

# ==================== 性能监控配置 ====================
# Prometheus指标配置 (开发环境简化)
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_PORT=9090
METRICS_INCLUDE_REQUEST_TIME=true
METRICS_INCLUDE_REQUEST_COUNT=true

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INCLUDE_DB=true
HEALTH_CHECK_INCLUDE_REDIS=true
HEALTH_CHECK_INCLUDE_EXTERNAL=false

# ==================== WebSocket配置 ====================
# WebSocket连接配置
WEBSOCKET_ENABLED=true
WEBSOCKET_PATH=/ws
WEBSOCKET_MAX_CONNECTIONS=100
WEBSOCKET_HEARTBEAT_INTERVAL=60
WEBSOCKET_MESSAGE_QUEUE_SIZE=1000

# ==================== 数据处理配置 ====================
# 异步任务配置 (开发环境简化)
CELERY_BROKER_URL=redis://localhost:6379/2
CELERY_RESULT_BACKEND=redis://localhost:6379/3
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=Asia/Shanghai

# 数据处理配置
DATA_PROCESSING_ENABLED=true
DATA_PROCESSING_CHUNK_SIZE=1000
DATA_PROCESSING_MAX_WORKERS=2
DATA_PROCESSING_TIMEOUT=1800

# ==================== 模型训练配置 ====================
# 训练任务配置 (开发环境简化)
TRAINING_ENABLED=true
TRAINING_MAX_CONCURRENT_JOBS=2
TRAINING_CHECKPOINT_INTERVAL=100
TRAINING_EARLY_STOPPING_PATIENCE=10
TRAINING_MAX_EPOCHS=100
TRAINING_TIMEOUT=3600

# 模型存储配置
MODEL_STORAGE_PATH=models
MODEL_CHECKPOINT_PATH=checkpoints
MODEL_EXPORT_PATH=exports

# ==================== 开发和调试配置 ====================
# 开发模式配置 (开发环境全部开启)
AUTO_RELOAD=true
SHOW_ERROR_DETAILS=true
ENABLE_API_DOCS=true
ENABLE_SWAGGER_UI=true
ENABLE_REDOC=true

# 调试配置
DEBUG_TOOLBAR_ENABLED=true
PROFILER_ENABLED=true
SQL_DEBUG=false

# 开发工具配置
ENABLE_LINT=true
ENABLE_TYPE_CHECK=true
ENABLE_COVERAGE=true

# ==================== 安全配置 ====================
# 会话安全配置 (开发环境宽松)
SESSION_COOKIE_NAME=trademaster_session_dev
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_COOKIE_MAX_AGE=86400

# CSRF保护 (开发环境关闭)
CSRF_PROTECTION_ENABLED=false
CSRF_COOKIE_NAME=trademaster_csrf_dev
CSRF_HEADER_NAME=X-CSRFToken

# 内容安全策略 (开发环境关闭)
CSP_ENABLED=false
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self' 'unsafe-inline' 'unsafe-eval'"
CSP_STYLE_SRC="'self' 'unsafe-inline'"

# ==================== 时区和国际化配置 ====================
# 时区配置
TIMEZONE=Asia/Shanghai
USE_TZ=true

# 国际化配置
LANGUAGE_CODE=zh-Hans
LANGUAGES=["zh-Hans","en-US"]
LOCALE_PATHS=["locales"]